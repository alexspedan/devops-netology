# Домашнее задание к занятию "10.06. Инцидент-менеджмент"

## Задание 1

Составьте постмотрем, на основе реального сбоя системы Github в 2018 году.

Информация о сбое доступна [в виде краткой выжимки на русском языке](https://habr.com/ru/post/427301/) , а
также [развёрнуто на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).

## Задача повышенной сложности

Прослушайте [симуляцию аудиозаписи о инциденте](https://youtu.be/vw6I5DYWkNA?t=1), предоставленную 
разработчиками инструмента для автоматизации инцидент-менеджмента PagerDuty.

На основании этой аудиозаписи попробуйте составить сообщения для пользователей о данном инциденте.

Должно быть 3 сообщения о:
- начале инцидента
- продолжающихся работах
- окончании инцидента и возвращении к штатной работе

---

### Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---


Постмортем содержит следующие разделы:
- Краткое описание инцидента (краткая выжимка о инциденте)
Не отображались Issue и комментарии к ним.
- Предшествующие события (что произошло перед инцидентом)
при профилактических работах по замене отказавшего 100ГБ была потеряна связь между US East Coast network hub и основным US East Coast data center
- Причина инцидента (из-за чего возник инцидент)
Сбой базы данных. В течение 40 минут все данные записывались только а ДЦ на Западном побережье, и несколько секунд только на Восточном побережье. 
- Воздействие (на что повлиял инцидент)

- Обнаружение (когда и как инцидент был обнаружен)
22:54 системы мониторинга стали слать большое количество сообщений об ошибках. В 23.02 определили что кластеры баз данных находятся в нестандартном статусе.
- Реакция (кто ответил на инцидент, кто был привлечен, какие каналы коммуникации были задействованы)
Ответила группа быстрого реагирования и эскалировала на инцидент координатора
- Восстановление (описание действий по устранению инцидента и поведение системы)
В течение 40 минут все данные записывались только а ДЦ на Западном побережье, и несколько секунд только на Восточном побережье. 
Была остановлена часть сервисов. Такие как пуши.
Инжереы запланировали работы по восстановлению из бекапов с синхронизацией реплик.

- Таймлайн (последовательное описание ключевых событий инцидента с указанием времени)
22.52.21 октября начало рассинхронизации баз данных
22.54 21 октября сработали системы мониторинга
23.02 21 октября инженеры подтвердили
23.07 - заблокировали дополнительные активности
23.09 - эскалировали координатору
23.13 стало понятно что проблема влияет на разные кластеры БД
23.19 был определен список БД которые нужно остановить, основным кластером стал кластер Западного побережья
00.05 22 октября - был разработан план решения инцидента
06.51 несколько кластеров завершили восстановление с бекапов из дата-центра на Восточном побережье и начали репликацию данных с Западного побережья.
07.46 опубликовали коммуникацию
11.12 все БД начали использовать дете-цент Восточного побережья как основной, в результате выросла производительность
16.24 после завершения синхронизации реплик была восстановлена основная схема
16.45 проводились работы по балансировке назгузок
22.03 22 октября - работа сайта восстановлена
- Последующие действия (что нужно предпринять, чтобы инцидент не повторялся)
1. Улучшена конфигурая Оркестратора для предотвращения переноса основной БД за пределы региона
2. Ускорена миграция на новый механизм отчетов о статусе
3. Продолжен проект по поддержке распределения трафика разных дата-центров по схеме active/active/active 